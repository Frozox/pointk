{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <ul class="nav nav-tabs mb-3">
                    <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#product">Produits</a></li>
                    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#user">Utilisateurs</a></li>
                    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#commande">Commandes</a></li>
                </ul>
                <div class="tab-content">
                    <div id="product" class="tab-pane fade show active">
                        <ul class="nav nav-tabs">
                            <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#product-edit">Editer</a></li>
                            <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#product-create">Créer</a></li>
                        </ul>
                        <div class="tab-content">
                            <div id="product-edit" class="tab-pane fade show active">
                                {{ include('admin/produitlist.html.twig') }}
                            </div>
                            <div id="product-create" class="tab-pane fade">
                                {{ include('admin/ajax.addproduit.form.html.twig') }}
                            </div>
                        </div>
                    </div>
                    <div id="user" class="tab-pane fade">
                        <ul class="nav nav-tabs">
                            <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#user-edit">Editer</a></li>
                            <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#user-create">Créer</a></li>
                        </ul>
                        <div class="tab-content">
                            <div id="user-edit" class="tab-pane fade show active">
                                {{ include('admin/userlist.html.twig') }}
                            </div>
                            <div id="user-create" class="tab-pane fade">
                                {{ include('admin/ajax.adduser.form.html.twig') }}
                            </div>
                        </div>
                    </div>
                    <div id="commande" class="tab-pane fade">
                        {{ include('admin/commandelist.html.twig') }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        //Variables twig mise en js pour implémentation dans admin.js
        var addUserUrl = "{{ path('adduser') }}";
        var deleteUserUrl = "{{ path('deleteuser', {'user': 'userid'}) }}";
        var refreshProduitList = "{{ path('refreshproduits') }}";
        var refreshUserList = "{{ path('refreshusers') }}";
        var refreshCommandeList = "{{ path('refreshcommandes') }}";
    </script>
    <script src="{{ asset('js/admin.js') }}"></script>
{% endblock %}